<div class="container-fluid"></div>
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800"><%- heading %></h1>
        <a href="/production/annealing/records" class="btn btn-sm btn-info">
            <i class="fas fa-list fa-sm text-white-50"></i> 
            ดูรายการทั้งหมด
        </a>
    </div>

    <div class="container-fluid">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h4 class="m-0 font-weight-bold text-primary">Production Report (Cleaning)</h4>
                <h6 class="m-0 font-weight-bold text-primary">รายงานการล้างลวดประจำวันและการตรวจสอบคุณภาพ</h6>
            </div>

            <div class="card-body">
                <form id="annealingForm">
                    <table class="table table-bordered table-sm">

                        <tr>
                            <td>
                                <div class="form-group mb-1">
                                    <label for="rsnCode" class="small">Code</label>
                                    <div class="input-group input-group-sm">
                                        <input type="text" 
                                               id="rsnCode" 
                                               class="form-control form-control-sm" 
                                               placeholder="คลิกที่นี่แล้วสแกนบาร์โค้ด/กรอก" 
                                               required 
                                               autofocus
                                               autocomplete="off" 
                                               onpaste="return true">
                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                <i class="fas fa-barcode"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                            <!-- แถวเดียว -->
                            <tr id="dataRow" style="display: none;">

                                <td>
                                    <div class="form-group mb-1">
                                        <label for="docNo" class="small">MFG No.</label>
                                        <input type="text" id="docNo" class="form-control form-control-sm" readonly>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="grade" class="small">Grade</label>
                                        <input type="text" id="grade" class="form-control form-control-sm" readonly>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="size" class="small">Size In (mm.)</label>
                                        <input type="text" id="size" class="form-control form-control-sm" readonly>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="weightInput" class="small">Weight In (Kg.)</label>
                                        <input type="text" id="weightInput" class="form-control form-control-sm" readonly>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="coilNo" class="small">Coil No.</label>
                                        <input type="text" id="coilNo" class="form-control form-control-sm" readonly>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="step" class="small">STEP</label>
                                        <input type="text" id="step" class="form-control form-control-sm" readonly>
                                    </div>
                                </td>

                                <td>
                                    <div class="form-group mb-1">
                                        <label for="labelNumber" class="small">หมายเลขป้ายแทน</label>
                                        <input type="text" id="labelNumber" class="form-control form-control-sm">
                                    </div>
                                </td>

                                <td class="datetime-column">
                                    <div class="form-group mb-1">
                                        <label for="detailDateInput" class="small">เวลาเริ่มล้าง</label>
                                        <input type="datetime" 
                                               id="detailDateInput" 
                                               class="form-control form-control-sm" 
                                               readonly>
                                    </div>
                                </td>
                                <td class="datetime-column">
                                    <div class="form-group mb-1">
                                        <label for="printTime" class="small">เวลาล้างจบ</label>
                                        <input type="datetime" 
                                               id="printTime" 
                                               class="form-control form-control-sm"
                                               readonly>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="washingPound" class="small">บ่อล้างที่</label>
                                        <select class="form-control form-control-sm" id="washingPound">
                                            <option value="">เลือก...</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="cleanLiness" class="small">สะอาด</label>
                                        <select class="form-control form-control-sm" id="cleanLiness">
                                            <option value="">เลือก...</option>
                                            <option value="0">ผ่าน</option>
                                            <option value="1">ไม่ผ่าน</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="wireWound" class="small">รอยแผล/สะเก็ด</label>
                                        <select class="form-control form-control-sm" id="wireWound">
                                            <option value="">เลือก...</option>
                                            <option value="0">ผ่าน</option>
                                            <option value="1">ไม่ผ่าน</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="rust" class="small">ไม่มีสนิม</label>
                                        <select class="form-control form-control-sm" id="rust">
                                            <option value="">เลือก...</option>
                                            <option value="0">ผ่าน</option>
                                            <option value="1">ไม่ผ่าน</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="bend" class="small">ไม่คดงอ</label>
                                        <select class="form-control form-control-sm" id="bend">
                                            <option value="">เลือก...</option>
                                            <option value="0">ผ่าน</option>
                                            <option value="1">ไม่ผ่าน</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="headPump" class="small">ปั๊มหัว</label>
                                        <select class="form-control form-control-sm" id="headPump">
                                            <option value="">เลือก...</option>
                                            <option value="0">มี</option>
                                            <option value="1">ไม่มี</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group mb-1">
                                        <label for="entryStatus" class="small">สถานะ</label>
                                        <select class="form-control form-control-sm" id="entryStatus">
                                            <option value="">เลือก...</option>
                                            <option value="annealing">เข้าอันนิล</option>
                                            <option value="pack">เข้าแพ็ค</option>
                                            <option value="profile">เข้ารีดเหลี่ยม</option>
                                            <option value="coating">เข้าบ่อต้ม</option>
                                        </select>
                                    </div>
                                </td>

                                <td class="form-group mb-1">
                                    <label for="weightOutput" class="small">WeightOut (Kg.)</label>
                                    <input type="text" id="weightOutput" class="form-control form-control-sm" readonly>
                                </td>

                                <td class="form-group mb-1">
                                    <label for="reelNumber" class="small">หมายเลขรีล</label>
                                    <input type="text" id="reelNumber" class="form-control form-control-sm" readonly>
                                </td>



                                <td colspan="2"></td>
                            </tr>
                    </table>
            
                    <div class="text-center mt-3">
                        <button type="submit" class="btn btn-primary btn-sm">บันทึกข้อมูล</button>
                        <button type="reset" class="btn btn-secondary btn-sm">รีเซ็ต</button>
                    </div>
                </form>
            </div>
            
            <style>
                /* สไตล์เดิม */
                .table {
                    margin-bottom: 0;
                }
                
                .table td {
                    padding: 0.25rem;
                }
                
                .form-control-sm {
                    height: 30px;
                    font-size: 0.875rem;
                    padding: 0.25rem 0.5rem;
                }
            
                .small {
                    font-size: 0.875rem;
                    margin-bottom: 0.25rem;
                    font-weight: 500;
                }
            
                /* สไตล์ใหม่ */
                .input-group-text {
                    padding: 0.25rem 0.5rem;
                    background-color: #e9ecef;
                    border-left: none;
                }
            
                .fa-lock {
                    font-size: 0.8rem;
                }
            
                input[readonly] {
                    background-color: #e9ecef !important;
                    cursor: not-allowed;
                    border-right: none;
                }
            
                /* สไตล์สำหรับ datetime input */
                input[type="datetime-local"] {
                    padding: 0.25rem;
                }
            
                input[type="datetime-local"]::-webkit-calendar-picker-indicator {
                    margin-left: 0.2rem;
                }
            </style>
    
            
        </div>

    </div>



</div>

<style>
    .datetime-column {
        min-width: 150px;  /* หรือปรับตามที่ต้องการ */
    }
</style>

<script src="/backend/js/utils/dateUtils.js"></script>
<script src="/backend/js/forms/annealing-form.js"></script>
<script src="/backend/js/exceljs.min.js"></script>

